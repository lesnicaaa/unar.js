{"version":3,"sources":["..\\src\\Config\\index.js","..\\src\\View\\Attr\\index.js","..\\src\\View\\DomEvent\\index.js","..\\src\\Hub\\index.js","..\\src\\View\\Detective\\index.js","..\\src\\View\\index.js","..\\src\\Instance\\index.js","index.js"],"names":["config","actionPrefix","attrPrefix","evtPrefix","Attr","txt","test","attr","indexOf","PropPrefix","DomEvent","node","val","value","text","textContent","html","innerHTML","attrName","attrVal","substr","length","evtName","fn","addEventListener","hubs","window","id","Hub","prop","cb","listeners","addListener","push","forEach","Detictive","key","vm","_update","bind","methods","addEvt","detictive","console","log","e","target","Templater","selector","el","document","querySelector","appendChild","init","fragment","createDocumentFragment","filterNode2fragment","childNodes","initAttrEvt","i","nodeType","_isPureBlankNode","attributes","detec","nodeName","nodeValue","isAction","isProp","isEvt","call","childNode","isExpression","data","Unar","o","$options","_data","Object","keys","defineProperty","configurable","enumerable","get","set","newVal","valCache","app","a"],"mappings":"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","file":"04468d115c3dda3732e4a9f82d5127ea.map","sourcesContent":["//Unar.global={\r\n//     actionPrefix:\"u\",\r\n//     attrPrefix:\":\",\r\n//     evtPrefix:\"@\",\r\n// }\r\n\r\n//merge\r\nvar config = {\r\n    actionPrefix: \"u\",\r\n    attrPrefix: \":\",\r\n    evtPrefix: \"@\",\r\n}\r\nexport default config","import config from \"../../Config\"\r\nexport default class Attr {\r\n    static isExpression(txt) {\r\n        return /\\{\\{.*\\}\\}/.test(txt);\r\n    }\r\n    static isAction(attr) {\r\n        //u\r\n        return attr.indexOf(config.actionPrefix) === 0;\r\n    }\r\n    static isProp(attr) {\r\n        //: v-bind:a=\"a\"\r\n        return attr.indexOf(config.PropPrefix) === 0;\r\n    }\r\n    static isEvt(attr) {\r\n        //: v-bind:a=\"a\"\r\n        return attr.indexOf(config.evtPrefix) === 0;\r\n    }\r\n}","/**\r\n * DomEvent\r\n */\r\nexport default class DomEvent {\r\n\tstatic model(node, val) {\r\n\t\tnode.value = val\r\n\t}\r\n\tstatic text(node, text) {\r\n\t\tnode.textContent = text\r\n\t}\r\n\tstatic html(node, html) {\r\n\t\tnode.innerHTML = html\r\n\t}\r\n\tstatic bind(node, attrName, attrVal) {\r\n\t\tnode[attrName.substr(config.attrPrefix.length, attrName.length)] = attrVal\r\n\t}\r\n\tstatic addEvt(node, evtName, fn) {\r\n\t\tnode.addEventListener(evtName, fn, false)\r\n\t}\r\n}\r\n","/**\r\n * one vm prop <---> one Hub\r\n */\r\n\r\n// a:{id: 1, prop: \"a\", listeners: [cb1,cb2]\r\n// b:{id: 2, prop: \"b\", listeners: [cb1,cb2]\r\nvar hubs = {}\r\nwindow.hubs=hubs\r\nvar id = 0\r\nclass Hub {\r\n\tconstructor(prop, cb) {\r\n\t\tthis.id = ++id\r\n\t\tthis.prop = prop\r\n\t\tthis.listeners = []\r\n\t\tthis.addListener(cb)\r\n\t}\r\n\taddListener(cb) {\r\n\t\tthis.listeners.push(cb)\r\n\t}\r\n\tdeleteListener() {\r\n\t}\r\n\tnotify() {\r\n\t\tthis.listeners.forEach((fn) => {\r\n\t\t\tfn()\r\n\t\t})\r\n\t}\r\n}\r\n//使用Object 比array在取值赋值时候，节省代码遍历。\r\nexport {\r\n\thubs,\r\n\tHub\r\n}\r\n","/**\r\n * Detictive\r\n * 静态方法包含this关键字，这个this指的是类\r\n */\r\nimport config from \"../../Config\"\r\nimport DomFn from \"../DomEvent\"\r\nimport {\r\n\thubs,\r\n\tHub\r\n} from \"../../Hub\"\r\n// debugger\r\nexport default class Detictive {\r\n\tstatic[config.actionPrefix + \"-model\"](node, key, vm) {\r\n\t\t// debugger\r\n\t\tthis._update(\"model\", node, key, vm)\r\n\t}\r\n\tstatic[config.actionPrefix + \"-text\"](node, text, vm) {\r\n\t\tthis._update(\"text\", node, text)\r\n\t}\r\n\tstatic[config.actionPrefix + \"-html\"](node, html, vm) {\r\n\t\tthis._update(\"html\", node, html)\r\n\t}\r\n\t//:\r\n\tstatic bind(node, attrName, attrVal) {\r\n\t\tDomFn.bind(node, attrName, attrVal)\r\n\t}\r\n\t//@\r\n\tstatic addEvt(node, attrName, fn) {\r\n\t\tvar evtName = attrName.substr(config.evtPrefix.length, attrName.length)\r\n\t\tvar fn = this.methods[fn].bind(this)\r\n\t\tDomFn.addEvt(node, evtName, fn)\r\n\t}\r\n\tstatic _update(detictive, node, key, vm) {\r\n\t\tvar cb = DomFn[detictive]\r\n\t\t// debugger\r\n\t\tif (detictive === 'model') {\r\n\t\t\tconsole.log(`model`)\r\n\t\t\tnode.addEventListener('input', e => {\r\n\t\t\t\tdebugger\r\n\t\t\t\tvm[key] = e.target.value\r\n\t\t\t}, false)\r\n\t\t}\r\n\t\tcb(node, vm[key])\r\n\t\t//检测hubs 是否具备此key，有的添加cb回调，没有创建便hub\r\n\t\tif (hubs[key]) {\r\n\t\t\thubs[key].listeners.push(cb)\r\n\t\t} else {\r\n\t\t\thubs[key] = new Hub(key, cb)\r\n\t\t}\r\n\t}\r\n}\r\n","/**\r\n * Templater\r\n */\r\nimport Attr from \"./Attr\"\r\nimport Detective from \"./Detective\"\r\n\r\nexport default class Templater {\r\n    constructor(selector, vm) {\r\n        this.vm = vm;\r\n        this.el = document.querySelector(selector);\r\n        if (this.el) {\r\n            this.el.appendChild(this.init());\r\n        }\r\n    }\r\n    init() {\r\n        const fragment = document.createDocumentFragment();\r\n        this.filterNode2fragment(fragment)\r\n        //初始化view\r\n        fragment.childNodes.forEach((node) => {\r\n            this.initAttrEvt(node)\r\n        })\r\n        console.log(fragment)\r\n        // for (let node of fragment.childNodes) {\r\n        //     this.initAttrEvt(node)\r\n        // }\r\n        return fragment\r\n    }\r\n    filterNode2fragment(fragment) {\r\n        //所有节点node\r\n        for (let i = 0; i < this.el.childNodes.length; i++) {\r\n            const node = this.el.childNodes[i];\r\n            const nodeType = node.nodeType;\r\n            //for reduce the loop count ,filter nodes to Element Comment Text(not contain pure whitespace)\r\n            if (nodeType === 1 || nodeType === 8 || (nodeType === 3) && !this._isPureBlankNode(node)) {\r\n                fragment.appendChild(node);\r\n                --i;\r\n            }\r\n        }\r\n    }\r\n    initAttrEvt(node) {\r\n        //排除元素、文本以外的节点\r\n        if (node.nodeType === 1) {\r\n            //node.attributes\r\n            for (let attr of node.attributes) {\r\n                //过滤掉非unar的动作、属性、事件\r\n                const detec = attr.nodeName;\r\n                const key = attr.nodeValue;\r\n                //u-html u-model\r\n                if (Attr.isAction(detec)) {\r\n                    Detective[detec](node, key,this.vm)\r\n                }\r\n                //:id\r\n                if (Attr.isProp(detec)) {\r\n                    Detective.bind(node, detec, key,this.vm)\r\n                }\r\n                //@click\r\n                if (Attr.isEvt(detec)) {\r\n                    Detective.addEvt.call(this.vm, node, detec, key)\r\n                }\r\n            }\r\n            node.childNodes.forEach((childNode) => {\r\n                this.initAttrEvt(childNode)\r\n            })\r\n        }\r\n        //text {{}}\r\n        if (node.nodeType === 3 && Attr.isExpression(node.data)) {\r\n        }\r\n\r\n    }\r\n    /**\r\n     * https://developer.mozilla.org/zh-CN/docs/Web/Guide/API/DOM/Whitespace_in_the_DOM\r\n     * 以下所谓的“空白符”代表：\r\n     *  \"\\t\" TAB \\u0009 （制表符）\r\n     *  \"\\n\" LF  \\u000A （换行符）\r\n     *  \"\\r\" CR  \\u000D （回车符）\r\n     *  \" \"  SPC \\u0020 （真正的空格符）\r\n     *\r\n     * 不包括 JavaScript 的“\\s”，因为那代表如不断行字符等其他字符。\r\n     */\r\n    /**\r\n     * 测知某节点的文字内容是否全为空白。\r\n     *\r\n     * @参数   nod  |CharacterData| 类的节点（如  |Text|、|Comment| 或 |CDATASection|）。\r\n     * @传回值      若 |nod| 的文字内容全为空白则传回 true，否则传回 false。\r\n     */\r\n    _isPureBlankNode(node) {\r\n        // Use ECMA-262 Edition 3 String and RegExp features\r\n        return !(/[^\\t\\n\\r ]/.test(node.data));\r\n    }\r\n}","/**\r\n * Unar\r\n */\r\n\r\n\r\n// import util from \"../Util\"\r\n// import detective from \"./Detective\"\r\n// import model from \"./Model\"\r\nimport Templater from \"../View/index.js\"\r\nclass Unar {\r\n\t/*options\r\n\tmethods{\r\n\t    fn1,\r\n\t    fn2\r\n\t}\r\n\tdata{a:1,b:2}\r\n\r\n\ta:1\r\n\tb:2\r\n\tfn1,\r\n\tfn2\r\n\t*/\r\n\t// static hubs = []\r\n\tconstructor(o) {\r\n\t\tthis.methods = o.methods;\r\n\t\tthis.$options = {};\r\n\t\t//在vm新建_data、$options属性\r\n\t\tvar data = this._data = this.$options.data = o.data;\r\n\r\n\t\t//创建代理（存取）属性，代理_data、$options对象下的存取属性\r\n\t\tObject.keys(data).forEach(key => {\r\n\t\t\tObject.defineProperty(this, key, {\r\n\t\t\t\tconfigurable: false,\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\tget: function () {\r\n\t\t\t\t\t//data[key]、this._data[key]、this.$options.data 、o.data都可以\r\n\t\t\t\t\t//实现代理对象（读写都要通过这个代理），然后访问this._data[key]、this.$options.data的存取器属性\r\n\t\t\t\t\t//此getter会调用下面getter\r\n\t\t\t\t\treturn data[key];\r\n\t\t\t\t},\r\n\t\t\t\tset: function (newVal) {\r\n\t\t\t\t\tdata[key] = newVal;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t//使用闭包，存储这个值。（data[key],运行到此还是数据属性）\r\n\t\t\t//data[key]、this._data[key]、this.$options.data 、o.data都可以\r\n\t\t\tvar valCache = data[key];\r\n\r\n\t\t\t//data相当于同时，把this_data和this.$options.data,o.data三个都变成了存取器属性\r\n\t\t\tObject.defineProperty(data, key, {\r\n\t\t\t\tconfigurable: false,\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\tget: function () {\r\n\t\t\t\t\t//可以尝试这个\r\n\t\t\t\t\t//this._data[key]，this.$options.data[key]和data[key]都会爆栈\r\n\t\t\t\t\treturn valCache;\r\n\t\t\t\t},\r\n\t\t\t\tset: function (newVal) {\r\n\t\t\t\t\tdebugger\r\n\t\t\t\t\tvalCache = newVal;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t})\r\n\t\tnew Templater(o.el, this)\r\n\t}\r\n\t\r\n\t// static use() {}\r\n\t// static extend() {}\r\n\t// static $nextTick() {}\r\n\t// $get() {\r\n\t//     //utils.get(this, key, val)\r\n\t// }\r\n\t// $set() {\r\n\t//     utils.set(this, key, val)\r\n\t// }\r\n\t// $created() {}\r\n\t// $mounted() {}\r\n\t// $watch() {}\r\n\t// $computed() {}\r\n\t// $remove() {}\r\n\t// $destroy() {}\r\n\t// $before() {}\r\n\t// $after() {}\r\n\t// 'emit', 'on', 'off', 'once'\r\n}\r\n\r\nexport default Unar","import Unar from \"../src/Instance/index.js\"\r\nwindow.Unar=Unar\r\nconst app = new Unar({\r\n    el: \"#root\",\r\n    data: {\r\n        a: 1,\r\n        id: 'input1'\r\n    },\r\n    methods: {\r\n        fn() {\r\n            console.log(this.a)\r\n        }\r\n    }\r\n})\r\n// import {p} from \"./parcel.js\"\r\n// p.es6fn('like')\r\n"]}